<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="src/mdeditor.css">
    <style>
        html,
        body {
            height: 100%;
        }

        .mdeditor {
            width: 800px;
            margin: 0 auto;
        }

    </style>
</head>

<body>


<div id="md" class="mdeditor1" contenteditable="true"></div>

<textarea id="mdv" class="mdeditor">

#[asdfasdfasfd](asdfasdfasfd)
##h2<div></div>
###h3
####h4
##### h5
###### h6
- li1
* li2
. li3<script>alert(1)</script>
- sdsfd<div></div>
1. dsfsdf
2. dsfdsf
     sdsdsdf
    | 项目        | 价格   |  数量  |
    | --------   | -----:  | :----:  |
    | 计算机     | \$1600 |
    | 计算机<script>alert(1)</script>     | \$1600 |
    | 计算机<div></div>     | \$1600 |

> asdfasdfsadf
> <script>alert(1)</script>

!> asdfasdfsadf
 <div></div>

``` js
function toLi(tag, rows) {
    var tree = []
    for (var i = 0; i < rows.length; i++) {
        var row = rows[i]
        if (/^\s+/.test(row)) {


            var _blank = []
            for (; i < rows.length; i++) {
                if (/^\s+/.test(rows[i])) {
                    _blank.push(rows[i].replace(/^\s+/, ''))
                } else {
                    i--
                    break
                }
            }
            tree[tree.length - 1].children = toTree(_blank)

        } else {
            tree.push({
                tag: 'li',
                md: rows[i],
                text: handleInlineSet(tag == 'ul' ? rows[i].replace(/^[\.\*\-]\s*/, '') : rows[i].replace(/^\d\.\s*/, ''))
            })
        }
    }
    return tree
}
```

| 项目        | 价格   |  数量  |
| --------   | -----:  | :----:  |
| 计算机     | \$1600 |
| 计算机<script>alert(1)</script>     | \$1600 |
| 计算机<div></div>     | \$1600 |
</textarea>
<div id="html" class="mdeditor"></div>
<button onclick="mdtree()">查看md tree</button>
<script src="dist/md.js"></script>
<script src="dist/markdown.js"></script>
<script>
    // var md = mdeditor('#md')

    // md.setMarkdown(document.getElementById('mdv').value)
    function mdtree() {
        var source = document.getElementById('mdv').value
        var htm = md.mdToHtml(source);
        document.getElementById('html').innerHTML = htm
    }

    mdtree()
</script>

</body>

</html>
